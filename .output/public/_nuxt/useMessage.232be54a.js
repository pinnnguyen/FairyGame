import{j as g,R as G,u as J,w as ve,r as ye,S as Oe,e as S,C as E,h as Q,T as R,o as m,l as v,B as I,i as q,x as Ae,U as Pe,V as z,c as N,z as U,W as Ee,K as _,p as D,L as $e,F as re,E as Ne,t as we,X as xe,Y as Le,Z as ze,D as je,A as W,$ as Fe}from"./entry.5e8a55ee.js";const oe=typeof window<"u";var ue;oe&&((ue=window==null?void 0:window.navigator)==null?void 0:ue.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);const Me=Object.prototype.toString,Re=Object.prototype.hasOwnProperty;function Te(e,t){return Me.call(e)===`[object ${t}]`}function Be(e,t){return Re.call(e,t)}function ae(e){return e!=null}function T(e){return e==null}function De(e){return Te(e,"Object")}function x(e){return typeof e=="function"}function j(){}const Ve="[-\\+]?\\d+%?",qe="[-\\+]?\\d*\\.\\d+%?",L=`(?:${qe})|(?:${Ve})`,He=`[\\s|\\(]+(${L})[,|\\s]+(${L})[,|\\s]+(${L})\\s*\\)?`,H=`[\\s|\\(]+(${L})[,|\\s]+(${L})[,|\\s]+(${L})[,|\\s]+(${L})\\s*\\)?`,Xe=new RegExp(`rgb${He}`),Ze=new RegExp(`rgba${H}`),Ue=new RegExp(`hsl${H}`),Ge=new RegExp(`hsla${H}`),Ke=new RegExp(`hsv${H}`),We=new RegExp(`hsva${H}`),Ye=/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Je=/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Qe=/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,en=/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,ee=Object.freeze({aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"});Object.freeze(new Set(Object.keys(ee)));function nn(e){if(e=e.toString().trim().toLowerCase(),e==="transparent")return{r:0,g:0,b:0,a:0,format:"name",toString:C};let t=!1;ee[e]&&(e=ee[e],t=!0);let n;if(n=Xe.exec(e)){const{r,g:o,b:a}=fe(n[1],n[2],n[3]);return{r:r*255,g:o*255,b:a*255,format:"rgb",toString:C}}if(n=Ze.exec(e)){const{r,g:o,b:a}=fe(n[1],n[2],n[3]);return{r:r*255,g:o*255,b:a*255,a:V(n[4]),format:"rgba",toString:C}}if(n=Ue.exec(e)){const{h:r,s:o,l:a}=ne(n[0],n[1],n[3]);return{h:r*360,s:o,l:a,format:"hsl",toString:pe}}if(n=Ge.exec(e)){const{h:r,s:o,l:a}=ne(n[0],n[1],n[3]);return{h:r*360,s:o,l:a,a:V(n[4]),format:"hsla",toString:pe}}if(n=Ke.exec(e)){const{h:r,s:o,v:a}=te(n[0],n[1],n[3]);return{h:r*360,s:o,v:a,format:"hsv",toString:he}}if(n=We.exec(e)){const{h:r,s:o,v:a}=te(n[0],n[1],n[3]);return{h:r*360,s:o,v:a,a:V(n[4]),format:"hsva",toString:he}}return(n=Ye.exec(e))?{r:parseInt(`${n[1]}${n[1]}`,16),g:parseInt(`${n[2]}${n[2]}`,16),b:parseInt(`${n[3]}${n[3]}`,16),format:t?"name":"hex3",toString:C}:(n=Je.exec(e))?{r:parseInt(`${n[1]}${n[1]}`,16),g:parseInt(`${n[2]}${n[2]}`,16),b:parseInt(`${n[3]}${n[3]}`,16),a:de(`${n[4]}${n[4]}`),format:t?"name":"hex4",toString:C}:(n=Qe.exec(e))?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16),format:t?"name":"hex6",toString:C}:(n=en.exec(e))?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16),a:de(n[4]),format:t?"name":"hex8",toString:C}:null}function B(e){let t={r:0,g:0,b:0},n=1,r;return typeof e=="string"?r=nn(e):r=e,r!==null&&typeof r=="object"&&("l"in r?t=tn(r.h,r.s,r.l):"v"in r&&(t=rn(r.h,r.s,r.v)),r.a&&(n=V(r.a),Number.isNaN(n)&&(n=1)),t=r),{...t,a:n,format:"rgba",toString:C}}function ne(e,t,n){return{h:k(e,0,360)/360,s:k(F(t)?M(t):t,0,1),l:k(F(n)?M(n):n,0,1)}}function fe(e,t,n){return{r:k(e,0,255)/255,g:k(t,0,255)/255,b:k(n,0,255)/255}}function te(e,t,n){return{h:k(e,0,360)/360,s:k(F(t)?M(t):t,0,1),v:k(F(n)?M(n):n,0,1)}}function V(e){return k(F(e)?M(e):e,0,1)}function tn(e,t,n){let r,o,a;if({h:e,s:t,l:n}=ne(e,t,n),t===0)r=o=a=n;else{const l=n<.5?1*(1+t):n+t-n*t,c=2*n-l;r=Y(c,l,e+1/3),o=Y(c,l,e),a=Y(c,l,e-1/3)}return r*=255,o*=255,a*=255,{r,g:o,b:a,toString:C}}function rn(e,t,n){({h:e,s:t,v:n}=te(e,t,n)),e*=6;const r=Math.floor(e),o=e-r,a=n*(1-t),l=n*(1-o*t),c=n*(1-(1-o)*t),s=r%6;let d=[n,l,a,a,c,n][s],i=[c,n,n,l,a,a][s],b=[a,a,c,n,n,l][s];return d*=255,i*=255,b*=255,{r:d,g:i,b,toString:C}}function $t(e,t,n=.5){if(!e&&!t)return{r:0,g:0,b:0,a:1};if(!e)return B(t);if(!t)return B(e);const r=B(e),o=B(t),a=k(n,0,1),l=a*2-1,c=r.a-o.a,s=((l*c===-1?l:(l+c)/(1+l*c))+1)/2,d=1-s;return{r:Math.round(r.r*s+o.r*d),g:Math.round(r.g*s+o.g*d),b:Math.round(r.b*s+o.b*d),a:Math.round(r.a*a+o.a*(1-a)),format:"rgba",toString:C}}function wt(e,t){const n=B(e);return n.a=V(F(t)?M(t):t),n}function de(e){return parseInt(e,16)/255}function k(e,t,n){return Math.max(t,Math.min(n,parseFloat(e)))}function Y(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function F(e){return e.toString().trim().includes("%")}function M(e){const t=parseFloat(e)/100;return Number.isNaN(t)?0:t}function C(){return ae(this.a)&&this.a>=0&&this.a<1?`rgba(${this.r}, ${this.g}, ${this.b}, ${this.a})`:`rgb(${this.r}, ${this.g}, ${this.b})`}function pe(){return ae(this.a)&&this.a>=0&&this.a<1?`hsla(${this.h}, ${this.s}, ${this.l}, ${this.a})`:`hsl(${this.h}, ${this.s}, ${this.l})`}function he(){return ae(this.a)&&this.a>=0&&this.a<1?`hsva(${this.h}, ${this.s}, ${this.v}, ${this.a})`:`hsv(${this.h}, ${this.s}, ${this.v})`}function on(e){const t=parseFloat(e);return Number.isNaN(t)?0:t}Object.freeze(["B","KB","MB","GB","TB","AUTO"]);const an="This object was destroyed, do not use it anywhere",sn=()=>!0;function ln(e,t=an){const n=()=>{throw new Error(t)};Object.keys(e).forEach(r=>{typeof e[r]=="function"?e[r]=n.bind(e):e[r]=null}),Object.getOwnPropertyNames(e.constructor.prototype).forEach(r=>{r!=="constructor"&&typeof e[r]=="function"&&(e[r]=n.bind(e))}),e.isDestroyed=sn}const cn="__vxp-provided-namespace",un=g(()=>"vxp");function fn(){return G(cn,un)}function K(e,t=fn()){const n=()=>`${J(t)}-${e}`,r=u=>`${n()}__${u}`,o=u=>`${n()}--${u}`,a=(u,y)=>`${n()}__${u}--${y}`,l=u=>`${n()}-${u}`,c=u=>`${J(t)}-${u}`,s=u=>`--vxp-${e}-${u}`;return{b:n,be:r,bm:o,bem:a,bs:l,ns:c,cv:s,cvm:(u,y={})=>(Object.keys(u).forEach(P=>{y[s(P)]=u[P]}),y),gcv:u=>`var(--vxp-${e}-${u})`,nv:u=>`--vxp-${u}`,gnv:u=>`var(--vxp-${u})`}}const dn="__vxp-provided-props",pn=/^on[A-Z]/;function hn(e,t,n={}){const r=G(dn,null),o=g(()=>{var s,d;return(d=(s=r==null?void 0:r.value)==null?void 0:s.default)!=null?d:{}}),a=g(()=>{var s,d;return(d=(s=r==null?void 0:r.value)==null?void 0:s[e])!=null?d:{}}),l=Object.keys(t),c={};return l.forEach(s=>{const d=n[s],i=De(d)&&Be(d,"default")?d:{default:d},b=x(i.validator)?i.validator:null,O=i.default,u=T(i.isFunc)?pn.test(String(s)):i.isFunc,y=$=>!u&&x($)?$():$,P=()=>!u&&x(O)?O():O;b&&ve(()=>t[s],$=>{b($)===!1&&console.warn(`${mn(e)}: an invaild value is set to '${s}' prop`)}),i.static?c[s]=g(()=>{var $;return($=t[s])!=null?$:P()}):c[s]=g(()=>T(t[s])?T(a.value[s])?T(o.value[s])?P():y(o.value[s]):y(a.value[s]):t[s])}),ye(c)}function mn(e){return`[vexip-ui:${e.charAt(0).toLocaleUpperCase()+e.substring(1)}]`}const bn={type:Boolean,default:null};function gn(e){return Object.freeze({...{inherit:bn},...e})}const Ct=String;function kt(e="default"){return{default:()=>J(e),validator(t){return["small","default","large"].includes(t)}}}const Ce=[String,Object,Array],_t=[String,Object,Array],vn=[Function,Array];function St(){return vn}function It(e,...t){if(Array.isArray(e))for(let n=0,r=e.length;n<r;++n)typeof e[n]=="function"&&e[n](...t);else typeof e=="function"&&e(...t)}const yn="___vxp-provided-z-index";let $n=0,ke=2e3;if(oe){const e=getComputedStyle(document.documentElement),t=parseFloat(e.getPropertyValue("--vxp-z-index-popup").trim());Number.isNaN(t)||(ke=t)}const me=g(()=>ke);function wn(){const e=Oe()?G(yn,me):me;return g(()=>e.value+$n++)}const be={type:[Boolean,String],default:null},Cn=gn({icon:Object,scale:[Number,String],title:String,label:String,spin:be,pulse:be,flip:String});var _e=S({name:"Icon",props:Cn,setup(e,{attrs:t,slots:n}){const r=hn("icon",e,{icon:{default:null,static:!0},scale:1,title:null,label:null,spin:{default:!1,validator:s=>typeof s=="boolean"||s==="in"||s==="out"},pulse:{default:!1,validator:s=>typeof s=="boolean"||s==="in"||s==="out"},flip:{default:null,validator:s=>["horizontal","vertical","both"].includes(s)}}),o=K("icon"),a=g(()=>{const s=r.spin===!0||r.spin==="in"?"in":"out",d=r.pulse===!0||r.pulse==="in"?"in":"out";return{[o.b()]:!0,[o.bm(`spin-${s}`)]:r.spin,[o.bm(`pulse-${d}`)]:r.pulse,[o.bm(`flip-${r.flip}`)]:r.flip}}),l=g(()=>Number(r.scale)||1),c=g(()=>l.value===1?{}:{fontSize:`${l.value}em`});return()=>{const s={class:a.value,style:c.value,title:r.title,role:t.role||(r.label||r.title?"img":void 0),"aria-label":r.label,"aria-hidden":!(r.label||r.title)};return n.default?E("i",s,[E("g",null,[n.default()])]):r.icon?E("i",s,[E("g",null,[Q(r.icon)])]):E("i",s,null)}}});const X=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},kn=S(R({name:"CircleCheck"})),_n={style:{transform:"scale(0.85)"},viewBox:"0 0 512 512"},Sn=I("path",{d:"M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM371.8 211.8C382.7 200.9 382.7 183.1 371.8 172.2C360.9 161.3 343.1 161.3 332.2 172.2L224 280.4L179.8 236.2C168.9 225.3 151.1 225.3 140.2 236.2C129.3 247.1 129.3 264.9 140.2 275.8L204.2 339.8C215.1 350.7 232.9 350.7 243.8 339.8L371.8 211.8z"},null,-1),In=[Sn];function On(e,t,n,r,o,a){return m(),v("svg",_n,In)}const An=X(kn,[["render",On]]),Pn=S(R({name:"CircleExclamation"})),En={style:{transform:"scale(0.85)"},viewBox:"0 0 512 512"},Nn=I("path",{d:"M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM232 152C232 138.8 242.8 128 256 128s24 10.75 24 24v128c0 13.25-10.75 24-24 24S232 293.3 232 280V152zM256 400c-17.36 0-31.44-14.08-31.44-31.44c0-17.36 14.07-31.44 31.44-31.44s31.44 14.08 31.44 31.44C287.4 385.9 273.4 400 256 400z"},null,-1),xn=[Nn];function Ln(e,t,n,r,o,a){return m(),v("svg",En,xn)}const zn=X(Pn,[["render",Ln]]),jn=S(R({name:"CircleInfo"})),Fn={style:{transform:"scale(0.85)"},viewBox:"0 0 512 512"},Mn=I("path",{d:"M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 128c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S224 177.7 224 160C224 142.3 238.3 128 256 128zM296 384h-80C202.8 384 192 373.3 192 360s10.75-24 24-24h16v-64H224c-13.25 0-24-10.75-24-24S210.8 224 224 224h32c13.25 0 24 10.75 24 24v88h16c13.25 0 24 10.75 24 24S309.3 384 296 384z"},null,-1),Rn=[Mn];function Tn(e,t,n,r,o,a){return m(),v("svg",Fn,Rn)}const Bn=X(jn,[["render",Tn]]),Dn=S(R({name:"CircleXmark"})),Vn={style:{transform:"scale(0.85)"},viewBox:"0 0 512 512"},qn=I("path",{d:"M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM175 208.1L222.1 255.1L175 303C165.7 312.4 165.7 327.6 175 336.1C184.4 346.3 199.6 346.3 208.1 336.1L255.1 289.9L303 336.1C312.4 346.3 327.6 346.3 336.1 336.1C346.3 327.6 346.3 312.4 336.1 303L289.9 255.1L336.1 208.1C346.3 199.6 346.3 184.4 336.1 175C327.6 165.7 312.4 165.7 303 175L255.1 222.1L208.1 175C199.6 165.7 184.4 165.7 175 175C165.7 184.4 165.7 199.6 175 208.1V208.1z"},null,-1),Hn=[qn];function Xn(e,t,n,r,o,a){return m(),v("svg",Vn,Hn)}const Zn=X(Dn,[["render",Xn]]),Un=S(R({name:"Xmark"})),Gn={style:{transform:"scale(0.85)"},viewBox:"0 0 320 512"},Kn=I("path",{d:"M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"},null,-1),Wn=[Kn];function Yn(e,t,n,r,o,a){return m(),v("svg",Gn,Wn)}const Jn=X(Un,[["render",Yn]]);var se=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},Se=S({name:"Renderer",props:{renderer:{type:Function,default:null},data:{type:Object,default:void 0}},setup(e){return()=>typeof e.renderer!="function"?null:e.renderer(e.data)}});const Ie=Symbol("DELETE_HANDLER"),Qn=S({name:"PopupItem",components:{Renderer:Se},props:{state:{type:Object,default:()=>({})},transitionName:{type:String,default:null},innerClass:{type:Ce,default:null}},setup(e){const t=G(Ie,j),n=K("popup"),r=q(),o=g(()=>e.transitionName||n.ns("popup-top"));return Ae(()=>{Pe(()=>{const a=e.state;a&&r.value&&(a.height=r.value.offsetHeight)})}),{nh:n,zIndex:wn(),transition:o,wrapper:r,handleDelete:t}}}),et=["vxp-index"];function nt(e,t,n,r,o,a){const l=z("Renderer");return m(),N(Le,{appear:"",name:e.transitionName,onAfterLeave:t[0]||(t[0]=c=>e.handleDelete(e.state.key))},{default:U(()=>[Ee(I("div",{ref:"wrapper",class:_(e.nh.be("item")),style:D({zIndex:e.zIndex}),"vxp-index":e.state.key},[I("div",{class:_([e.nh.be("item-inner"),e.innerClass])},[$e(e.$slots,"default",{item:e.state},()=>[typeof e.state.renderer=="function"?(m(),N(l,{key:0,renderer:e.state.renderer},null,8,["renderer"])):(m(),v(re,{key:1},[Ne(we(e.state.content),1)],64))])],2)],14,et),[[xe,e.state.visible]])]),_:3},8,["name"])}var tt=se(Qn,[["render",nt]]);const rt=Object.freeze(["top-right","top-center","top-left","bottom-right","bottom-center","bottom-left"]);let ot=0;function at(){return ot++}const st=S({name:"Popup",components:{PopupItem:tt},props:{transitionName:{type:String,default:null},innerClass:{type:Ce,default:null},startOffset:{type:Number,default:30},placement:{default:"top-right",validator:e=>rt.includes(e)},itemOffset:{type:Number,default:16}},setup(e){const t=K("popup"),n=q([]),r=[],o=q();let a=!1;const l=g(()=>e.placement.split("-")),c=g(()=>e.transitionName||t.ns("popup-top"));ze(Ie,y),ve(()=>e.startOffset,(f,h)=>{n.value.forEach(p=>{p.verticalPosition+=f-h})});function s(f){const[h,p]=l.value,w={[h]:`${f.verticalPosition}px`};return p==="center"?(w.left="50%",w.transform="translateX(-50%)"):w[p]="24px",w}function d(f){return new Promise(h=>{const p=x(f.onOpen)?f.onOpen:j;f.onOpen=w=>{h(w),p()},r.push({type:"add",param:f}),a||(a=!0,b())})}function i(f){return new Promise(h=>{const p=$(f);if(!p)return h(!1);const w=x(p.onClose)?p.onClose:j;p.onClose=A=>{h(A),w(A)},r.push({type:"clear",param:f}),a||(a=!0,b())})}function b(){if(r.length){const f=r.shift();f.type==="add"?O(f.param):u(f.param),requestAnimationFrame(b)}else a=!1}function O(f){var h;let p=f.key?$(f.key):null;if(!(p!=null&&p.visible)){const w=at(),A=(h=f.key)!=null?h:t.bs(`${w}`);let Z=e.startOffset;n.value.forEach(ce=>{ce.visible&&(Z+=ce.height+e.itemOffset)}),p=ye(Object.assign({key:A,content:"",closable:!1,onOpen:j,onClose:j},f,{height:0,visible:!0,verticalPosition:Z})),n.value.push(p)}x(f.onOpen)&&f.onOpen(p.key)}function u(f){const h=n.value.findIndex(p=>p.key===f);if(~h){const p=n.value[h],w=p.height;p.visible=!1;for(let A=h+1,Z=n.value.length;A<Z;++A)n.value[A].verticalPosition-=w+e.itemOffset;x(p.onClose)&&p.onClose(!0)}}function y(f){const h=n.value.findIndex(p=>p.key===f);~h&&n.value.splice(h,1)}function P(f){return!~n.value.findIndex(h=>h.key===f)}function $(f){return n.value.find(h=>h.key===f)}function le(){r.length=0,n.value=[]}return{nh:t,items:n,transition:c,wrapper:o,getItemStyle:s,add:d,remove:i,has:P,find:$,clear:le}}});function it(e,t,n,r,o,a){const l=z("PopupItem");return m(),v("div",{class:_([e.nh.b(),e.nh.bm(e.placement)])},[(m(!0),v(re,null,je(e.items,c=>(m(),N(l,{key:c.key,ref_for:!0,ref:"instances",state:c,"transition-name":e.transition,"inner-class":e.innerClass,style:D(e.getItemStyle(c))},{default:U(({item:s})=>[$e(e.$slots,"item",{item:s})]),_:2},1032,["state","transition-name","inner-class","style"]))),128))],2)}var lt=se(st,[["render",it]]);const ct=S({name:"Message",components:{Icon:_e,Renderer:Se,Popup:lt,Xmark:Jn},setup(){const e=q("top"),t=q();async function n(a){return t.value?await t.value.add(a):null}async function r(a){return!!t.value&&await t.value.remove(a)}function o(){t.value&&t.value.clear()}return{nh:K("message"),effectiveTypes:["info","success","warning","error"],assertiveTypes:["success","warning","error"],placement:e,placementCenter:g(()=>`${e.value}-center`),popup:t,add:n,remove:r,clear:o}}}),ut=["aria-live"],ft=["innerHTML"],dt=["onClick"];function pt(e,t,n,r,o,a){const l=z("Renderer"),c=z("Icon"),s=z("Xmark"),d=z("Popup");return m(),N(d,{ref:"popup",class:_(e.nh.b()),"transition-name":e.nh.ns(`popup-${e.placement}`),placement:e.placementCenter},{item:U(({item:i})=>[I("div",{class:_([{[e.nh.be("item")]:!0,[e.nh.bs("vars")]:!0,[e.nh.bem("item",i.type)]:i.type&&e.effectiveTypes.includes(i.type),[e.nh.bem("item","background")]:i.background,[e.nh.bem("item","color")]:i.background&&i.color,[e.nh.bem("item","color-only")]:!i.background&&i.color,[e.nh.bem("item","has-icon")]:i.icon,[e.nh.bem("item","closable")]:i.closable},i.className]),role:"alert",style:D([{color:typeof i.color=="string"?i.color:void 0,backgroundColor:typeof i.background=="string"?i.background:void 0},i.style||{}]),"aria-atomic":"true","aria-live":i.type&&e.assertiveTypes.includes(i.type)?"assertive":"polite"},[I("div",{class:_(e.nh.be("wrapper"))},[i.icon?(m(),v("div",{key:0,class:_(e.nh.be("icon")),style:D({color:i.iconColor})},[typeof i.icon=="function"?(m(),N(l,{key:0,renderer:i.icon,data:i},null,8,["renderer","data"])):i.icon?(m(),N(c,{key:1,icon:i.icon,style:D([{color:i.iconColor},i.icon.style])},null,8,["icon","style"])):W("",!0)],6)):W("",!0),typeof i.renderer=="function"?(m(),N(l,{key:1,renderer:i.renderer,data:i},null,8,["renderer","data"])):(m(),v(re,{key:2},[i.parseHtml?(m(),v("div",{key:0,class:_(e.nh.be("content")),innerHTML:i.content},null,10,ft)):(m(),v("div",{key:1,class:_(e.nh.be("content"))},we(i.content||""),3))],64))],2),i.closable?(m(),v("button",{key:0,class:_(e.nh.be("close")),onClick:b=>e.remove(i.key)},[E(c,{label:"close"},{default:U(()=>[E(s)]),_:1})],10,dt)):W("",!0)],14,ut)]),_:1},8,["class","transition-name","placement"])}var ht=se(ct,[["render",pt]]);const mt={info:{icon:Bn},success:{icon:An},warning:{icon:zn},error:{icon:Zn}},ge=["top","bottom"];let bt=1;function gt(){return`message-${bt++}`}class ie{constructor(t={}){t={...t,duration:t.duration?on(t.duration):3e3},this._instance=null,this._innerApp=null,this._container=null,this.name="Message",this.defaults={},this.config(t),this.open=(n,r)=>this._open(null,n,r),this.info=(n,r)=>this._open("info",n,r),this.success=(n,r)=>this._open("success",n,r),this.warning=(n,r)=>this._open("warning",n,r),this.error=(n,r)=>this._open("error",n,r)}judge(t,n,r,o){t?this.success(n,o):this.error(r,o)}close(t){T(t)?this.clear():this._getInstance().remove(t)}config({placement:t,...n}){t&&(this._getInstance().placement=ge.includes(t)?t:ge[0]),this.defaults={...this.defaults,...n}}clone(){return new ie(this.defaults)}clear(){this._getInstance().clear()}destroy(){var t;(t=this._innerApp)==null||t.unmount(),ln(this)}isDestroyed(){return!1}install(t,n={}){const{property:r,...o}=n;this.config(o),t.config.globalProperties[r||"$message"]=this}_getInstance(){return this._instance||(this._container=document.createElement("div"),this._innerApp=Fe(ht),this._instance=this._innerApp.mount(this._container),document.body.appendChild(this._container.firstElementChild)),this._instance}_open(t,n,r){var o,a;if(!oe)return j;const l=typeof n=="string"?{content:n,duration:r}:n,c=(o=l.key)!=null?o:gt(),s=this._getInstance(),d=t?(a=mt[t])!=null?a:{}:{};let i;const b=l.onClose,O=()=>{if(clearTimeout(i),typeof b=="function")return b()},u=Object.assign({},this.defaults,d,l,{key:c,type:t,onClose:O});u.icon&&typeof u.icon!="function"&&(u.icon=R(u.icon)),s.add(u);const y=typeof u.duration=="number"?u.duration:3e3;return y>=500&&(i=setTimeout(()=>{s.remove(c)},y)),()=>{clearTimeout(i),s.remove(c)}}}const vt=new ie,Ot=(e,t)=>{vt.open({duration:t!=null?t:1500,className:"!rounded-xl",closable:!1,renderer:()=>Q("span",[Q(_e,{name:"bell-slash",style:{marginRight:"5px",color:"#339af0"}}),`${e}`])})};export{_e as I,B as N,se as _,bn as a,gn as b,_t as c,It as d,St as e,X as f,K as g,Ct as h,kt as i,$t as j,Ot as s,hn as u,wt as y};
