import{e as I,i as h,j as z,o as e,c as v,z as u,B as t,C as n,u as s,l as o,F as w,D as g,t as k,A as y,G as D,H as T,J as R}from"./entry.e4ed885a.js";import{_ as $}from"./ButtonConfirm.4036d8ed.js";import{W as C,d as A}from"./useBattleRound.a5f72525.js";import{o as F,c as M,a as S}from"./index.46dace04.js";import"./usePlayer.c8e019ab.js";const V={exp:"/items/7.png",gold:"/items/3.png"},W={class:"w-[250px] h-[250px] border border-[#6d6c6c] bg-black rounded-md"},O={key:0,class:"h-full w-full p-1"},j={class:"relative"},q={class:"absolute bottom-0 right-0 text-xs text-white pr-1 w-full text-right"},G={class:""},H={class:"relative"},J=t("div",{class:"absolute bottom-0 right-0 text-xs text-white pr-1 w-full text-right"},null,-1),L={key:0},Q={class:"font-semibold z-9"},K={key:1,class:"flex"},P=t("span",{class:"font-semibold z-9"},"Quay v\u1EC1",-1),U=t("span",{class:"font-semibold z-9"},"Th\u1EED l\u1EA1i",-1),st=I({__name:"battle-result",props:{battleResult:null,reward:null},emits:["close","retry"],setup(a,{emit:_}){const B=a,c=h(6e3),p=h(null);F(p,()=>_("close"));const f=()=>{_("close")},d=z(()=>B.battleResult.win===C.youwin);if(d.value){const x=setInterval(()=>{c.value=c.value-1e3,c.value<=0&&(f(),clearInterval(x))},1e3)}return(x,r)=>{const m=R,b=$,E=A,N=S;return e(),v(N,{class:"duration-500 transition-colors transition-opacity z-9"},{default:u(()=>[t("div",{ref_key:"target",ref:p,class:"flex flex-col items-center"},[n(m,{class:"w-[300px]",format:"webp",src:a.battleResult.win===s(C).youwin?"/battle/win.png":"/battle/lose.png"},null,8,["src"]),t("div",W,[s(d)?(e(),o("ul",O,[(e(!0),o(w,null,g(a.reward.base,(l,i)=>(e(),o("li",{key:i,class:"float-left w-[calc(23%_-_8px)] h-[48px] ml-2 m-1 bg-iconbg_3 bg-cover"},[t("div",j,[n(m,{src:s(V)[i],format:"webp"},null,8,["src"]),t("div",q,[t("div",G,k(l),1)])])]))),128)),(e(!0),o(w,null,g(a.reward.equipments,(l,i)=>(e(),o("li",{key:i,class:"float-left w-[calc(23%_-_8px)] h-[48px] ml-2 m-1 bg-iconbg_3 bg-cover"},[t("div",H,[l.preview?(e(),v(m,{key:0,src:l.preview,format:"webp"},null,8,["src"])):y("",!0),J])]))),128))])):y("",!0)]),s(d)?(e(),o("div",L,[n(b,{"class-name":"h-[30px]",class:"m-2",onClose:f},{default:u(()=>[t("span",Q,"Nh\u1EADn th\u01B0\u1EDFng ("+k(s(M)(s(c)))+")",1)]),_:1})])):(e(),o("div",K,[n(E,{"class-name":"h-[30px]",class:"m-2",onClick:r[0]||(r[0]=D(l=>s(T)("/"),["stop"]))},{default:u(()=>[P]),_:1}),n(b,{"class-name":"h-[30px]",class:"m-2",onClick:r[1]||(r[1]=l=>_("retry"))},{default:u(()=>[U]),_:1})]))],512)]),_:1})}}});export{st as default};
