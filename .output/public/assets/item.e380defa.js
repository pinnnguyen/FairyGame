import{e as h,x as v,i as I,o as k,l as g,s as r,t as a,p as y,u as i,G as w}from"./entry.303ba4a8.js";import{s as f}from"./useMessage.4ef409fc.js";import{u as C}from"./usePlayer.4eda164d.js";import{q as x}from"./index.040b5bdf.js";import{C as M}from"./index.79c2bd23.js";import"./ButtonSfc.676ad373.js";import"./Line.938dcc9e.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./Icon.6e08e514.js";import"./InputSfc.145169a3.js";import"./useBattleRound.ae7aabef.js";const q={p:"t-2",text:"12 primary",class:"line-clamp-2"},B={m:"t-2",text:"8 primary",h:"5"},S={class:"text-center"},A=h({__name:"item",props:{storeItem:null},setup(t){const{playerInfo:n}=v(C());I(!1);const b=async s=>{var o;try{const e=await $fetch("/api/store/buy",{method:"POST",body:{sid:(o=n.value)==null?void 0:o.sid,itemId:s.itemId,kind:s.kind,currency:s.currency}});f(e.statusMessage),e.statusCode===200&&(n.value.knb-=s.price)}catch(e){f(e.statusMessage)}};return(s,o)=>{var e,l,m,c,d,p,u;return k(),g("div",{class:"rounded p-2",style:y({border:`1px solid ${i(x)((e=t.storeItem.props)==null?void 0:e.quality)}`})},[r("div",{class:"text-10 font-bold line-clamp-1",style:y({color:i(x)((m=(l=t.storeItem)==null?void 0:l.props)==null?void 0:m.quality)})},a((c=t.storeItem.props)==null?void 0:c.name),5),r("div",q,a((p=(d=t.storeItem)==null?void 0:d.props)==null?void 0:p.note),1),r("div",B," Giá bán: "+a((u=t.storeItem)==null?void 0:u.price)+" "+a(i(M)[t.storeItem.currency]),1),r("div",S,[r("button",{class:"px-2 py-[2px] shadow rounded mt-2 text-10 font-semibold text-white bg-[#841919] w-full italic",onClick:o[0]||(o[0]=w(P=>b(t.storeItem),["stop"]))}," Mua ")])],4)}}});export{A as default};
