import{_ as N}from"./Line.2eebb493.js";import{q as L,p as V,t as b}from"./index.040b5bdf.js";import{I as D,b as H,a as M}from"./index.415a6716.js";import{e as R,o as d,l as u,B as a,E as c,v as i,s as e,F as $,q as z,p as A,u as t,t as n,x as F,f as G,i as w,j as O,N as Q,A as y,G as T}from"./entry.937bdf01.js";import{_ as j,a as U}from"./RewardList.vue.f27acb18.js";import{_ as W}from"./ButtonSfc.4224516d.js";import{u as X,s as Y}from"./usePlayer.1a998e47.js";import{s as P}from"./useMessage.b3c713b8.js";import{T as J}from"./useBattleRound.5f6c2d3a.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./Icon.f1f3be64.js";import"./InputSfc.91f1e5a5.js";const K={w:"11/12",bg:"primary",m:"auto",p:"2",border:"rounded 1 white/20"},Z=e("div",{font:"leading-5"},[e("div",{text:"left"}," Phải gây ít nhất 2% sát thương lên boss mới được nhận thưởng "),e("div",null," Đạo hữu nhận được sẽ là Tiên duyên "),e("div",null," Phần thưởng sẽ trao sau khi boss bị tiêu diệt "),e("div",{display:"flex",text:"left"},[e("i",{text:"underline space-nowrap",m:"r-1"},"Quỹ boss:"),i(" Phần thưởng chia đều theo sát thương gây ra ")]),e("div",{display:"flex",text:"left"},[e("i",{text:"underline space-nowrap",m:"r-1"},"Tiêu diệt:"),i(" Phần thưởng dành cho người kết liễu boss. ")]),e("div",{display:"flex",text:"left"},[e("i",{text:"underline space-nowrap",m:"r-1"},"ST cao nhât:"),i(" Phần thưởng dành cho người có lượng sát thương cao nhất. ")])],-1),ee={grid:"~ cols-4",gap:"4"},te=e("div",{text:"center primary underline"}," Đã hiểu ",-1),se=R({__name:"Reward",props:{reward:null},setup(s){return(x,h)=>{const p=N;return d(),u("div",K,[a(p,{m:"b-2",text:"10"},{default:c(()=>[i(" Tip ")]),_:1}),Z,a(p,{m:"y-2",text:"10"},{default:c(()=>[i(" Phần thưởng ")]),_:1}),e("div",ee,[(d(!0),u($,null,z(s.reward.base,(_,o)=>(d(),u("div",{key:o,text:"underline",p:"l-1 1",border:"1 white/40",style:A({color:t(L)(t(D)[o])})},n(t(H)[o])+" x"+n(_),5))),128))]),te])}}}),ne={pos:"relative",border:"1 white/40 rounded",p:"2",m:"2"},oe={key:0,text:"center"},ie={key:1,text:"center"},ae={flex:"~ "},re={p:"1"},le={text:"10"},de={m:"t-2",pos:"absolute",right:"2",top:"[20%]"},ye=R({__name:"Item",props:{boss:null},emits:["war"],setup(s,{emit:x}){const h=s,{playerInfo:p}=F(X()),_=G("battleRequest"),o=w(!1),q=new Date().getTime(),f=w({inRefresh:!1,refreshTime:0}),m=w((h.boss.revive-q)/1e3);setInterval(()=>{m.value-=1},1e3);const C=async r=>{if(p.value.level<r.level){P("Chưa đạt cấp độ");return}if(m.value>0){P("Boss đang hồi sinh");return}Y(_,{id:r._id,target:J.BOSS_ELITE}),x("war")},g=O(()=>{var r;return V(h.boss.level,((r=h.boss)==null?void 0:r.level)+1)});return(r,l)=>{const B=se,I=M,S=j,k=U,E=W;return d(),u($,null,[a(I,{show:t(o),"onUpdate:show":l[0]||(l[0]=v=>Q(o)?o.value=v:null)},{default:c(()=>[a(B,{reward:s.boss.reward},null,8,["reward"])]),_:1},8,["show"]),e("div",ne,[t(m)>0?(d(),u("div",oe," Hồi sinh sau: "+n(t(b)(t(m)).minutes)+"p "+n(t(b)(t(m)).seconds)+"s ",1)):y("",!0),t(f).inRefresh&&t(f).value.refreshTime?(d(),u("div",ie," Hồi sinh sau: "+n(t(b)(t(f).refreshTime).seconds),1)):y("",!0),e("div",ae,[e("div",re,[a(S,{quality:s.boss.quality},{default:c(()=>[i(n(s.boss.name)+" (",1),e("span",le,n(t(g).levelTitle)+" "+n(t(g).floor),1),i(") ")]),_:1},8,["quality"]),e("div",null," HP boss: "+n(Math.round(s.boss.attribute.hp/s.boss.hp*100))+"% ",1),a(k,{reward:s.boss.reward},null,8,["reward"])]),e("div",de,[e("i",{text:"underline [#afc671]",m:"r-2",onClick:l[1]||(l[1]=T(v=>o.value=!0,["stop"]))}," Xem thưởng "),a(E,{font:"semibold italic",size:"mini",class:"!text-[#333]",onClick:l[2]||(l[2]=T(v=>C(s.boss),["stop"]))},{default:c(()=>[i(" Diệt tận ")]),_:1})])])])],64)}}});export{ye as default};
