"use strict";var s=require("vue");require("../../common/config/src/index.cjs");var p=require("@vexip-ui/utils"),j=require("./props.cjs"),d=require("./helpler.cjs"),b=require("./symbol.cjs"),y=require("../../common/config/src/props.cjs"),S=require("../../common/config/src/namespace.cjs"),C=s.defineComponent({name:"Cell",props:j.cellProps,setup(w,{slots:m}){const r=y.useProps("cell",w,{tag:"div",top:"auto",left:"auto",width:null,height:1,right:"",bottom:"",xs:null,sm:null,md:null,lg:null,xl:null,xxl:null,useFlex:null}),o=s.inject(b.GRID_STATE,null),c=S.useNameHelper("cell");s.provide(b.GRID_STATE,null);const t=s.reactive({top:r.top,right:r.right,bottom:r.bottom,left:r.left,width:r.width,height:r.height}),f=Object.keys(t),h=s.computed(()=>p.isDefined(r.width)?r.width:(o==null?void 0:o.columns)&&typeof o.columns=="number"?o.columns:1);s.watch(d.currentBreakPoint,e=>{var l;const i=E(e);i?typeof i=="number"?(f.forEach(n=>{t[n]=r[n]}),t.width=i):(f.forEach(n=>{t[n]=p.has(i,n)?i[n]:r[n]}),t.width=(l=t.width)!=null?l:h.value):(f.forEach(n=>{t[n]=r[n]}),t.width=h.value)},{immediate:!0});const x=s.computed(()=>{const e=r.useFlex!==!1&&(r.useFlex||(o==null?void 0:o.cellFlex))&&{...(o==null?void 0:o.cellFlex)||{},...r.useFlex?r.useFlex===!0?{justify:"start",align:"top"}:r.useFlex:{}},i={[c.b()]:!0,[c.bm("inherit")]:o||r.inherit,[c.bm("flex")]:e};return e&&(e.justify&&(i[c.bm(e.justify)]=!0),e.align&&(i[c.bm(e.align)]=!0)),i}),v=s.computed(()=>{const e={},i=a(t.top),l=a(t.right),n=a(t.bottom),g=a(t.left);return i&&n?(e.gridRowStart=u(t.top),e.gridRowEnd=u(t.bottom)):i?(e.gridRowStart=u(t.top),e.gridRowEnd=`span ${t.height}`):n?(e.gridRowStart=`span ${t.height}`,e.gridRowEnd=u(t.bottom)):e.gridRowEnd=`span ${t.height}`,g&&l?(e.gridColumnStart=u(t.left),e.gridColumnEnd=u(t.right)):g?(e.gridColumnStart=u(t.left),e.gridColumnEnd=`span ${t.width}`):l?(e.gridColumnStart=`span ${t.width}`,e.gridColumnEnd=u(t.right)):e.gridColumnStart=`span ${t.width}`,e});function a(e){return e===0||e&&e!=="auto"}function u(e){return typeof e=="number"?e+1:e}function E(e){const i=d.breakPoints.findIndex(l=>l===e);if(~i){for(let l=i;l>=0;--l)if(p.isDefined(r[d.breakPoints[l]]))return r[d.breakPoints[l]]}return null}return()=>s.h(r.tag||"div",{class:x.value,style:v.value},{default:()=>{var e;return(e=m.default)==null?void 0:e.call(m)}})}});module.exports=C;
