"use strict";var e=require("vue");require("../../common/config/src/index.cjs");var s=require("./symbol.cjs"),h=require("../../_virtual/plugin-vue_export-helper.cjs"),f=require("../../common/config/src/namespace.cjs");const k=e.defineComponent({name:"AnchorLink",props:{to:{type:String,default:""},title:{type:String,default:""},children:{type:Array,default:()=>[]}},setup(n){const r=e.inject(s.ANCHOR_STATE,null),o=e.inject(s.LINK_STATE,null),l=f.useNameHelper("anchor"),c=e.ref(o!=null&&o.indent?(o==null?void 0:o.indent)+1:1),a=e.ref(!1),i=e.ref(),t=e.reactive({el:i,to:e.toRef(n,"to"),active:a,indent:c}),u=e.computed(()=>({[l.be("link")]:!0,[l.bem("link","active")]:t.active})),d=e.computed(()=>({paddingLeft:`${s.baseIndentWidth*c.value}px`}));e.provide(s.LINK_STATE,t),r&&(e.watch(()=>r.currentActive,p=>{a.value=p===n.to}),e.onMounted(()=>{r.increaseLink(t)}),e.onBeforeUnmount(()=>{r.decreaseLink(t)}));function m(){r&&r.handleActive(n.to)}return{nh:l,linkClass:u,linkStyle:d,link:i,handleSelect:m}}}),v=["href","title"];function y(n,r,o,l,c,a){const i=e.resolveComponent("AnchorLink",!0);return e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass(n.nh.be("item"))},[e.createElementVNode("a",{ref:"link",class:e.normalizeClass(n.linkClass),href:n.to,style:e.normalizeStyle(n.linkStyle),title:n.title,onClick:r[0]||(r[0]=e.withModifiers((...t)=>n.handleSelect&&n.handleSelect(...t),["prevent"]))},[e.renderSlot(n.$slots,"default")],14,v),n.$slots.group||n.children&&n.children.length?(e.openBlock(),e.createElementBlock("ul",{key:0,class:e.normalizeClass(n.nh.be("list"))},[e.renderSlot(n.$slots,"group",{},()=>[n.children&&n.children.length?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(n.children,t=>(e.openBlock(),e.createBlock(i,{key:t.to,to:t.to,title:t.title,children:t.children},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t.label),1)]),_:2},1032,["to","title","children"]))),128)):e.createCommentVNode("",!0)])],2)):e.createCommentVNode("",!0)],2)}var g=h(k,[["render",y]]);module.exports=g;
