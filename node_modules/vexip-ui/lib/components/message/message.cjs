"use strict";var e=require("vue");require("../icon/index.cjs");require("../renderer/index.cjs");require("../popup/index.cjs");var d=require("@vexip-ui/icons");require("../../common/config/src/index.cjs");var m=require("../../_virtual/plugin-vue_export-helper.cjs"),v=require("../icon/icon.cjs"),k=require("../renderer/renderer.cjs"),y=require("../popup/popup.cjs"),b=require("../../common/config/src/namespace.cjs");const C=e.defineComponent({name:"Message",components:{Icon:v,Renderer:k,Popup:y,Xmark:d.Xmark},setup(){const o=e.ref("top"),r=e.ref();async function a(c){return r.value?await r.value.add(c):null}async function l(c){return!!r.value&&await r.value.remove(c)}function s(){r.value&&r.value.clear()}return{nh:b.useNameHelper("message"),effectiveTypes:["info","success","warning","error"],assertiveTypes:["success","warning","error"],placement:o,placementCenter:e.computed(()=>`${o.value}-center`),popup:r,add:a,remove:l,clear:s}}}),f=["aria-live"],h=["innerHTML"],g=["onClick"];function B(o,r,a,l,s,c){const t=e.resolveComponent("Renderer"),p=e.resolveComponent("Icon"),i=e.resolveComponent("Xmark"),u=e.resolveComponent("Popup");return e.openBlock(),e.createBlock(u,{ref:"popup",class:e.normalizeClass(o.nh.b()),"transition-name":o.nh.ns(`popup-${o.placement}`),placement:o.placementCenter},{item:e.withCtx(({item:n})=>[e.createElementVNode("div",{class:e.normalizeClass([{[o.nh.be("item")]:!0,[o.nh.bs("vars")]:!0,[o.nh.bem("item",n.type)]:n.type&&o.effectiveTypes.includes(n.type),[o.nh.bem("item","background")]:n.background,[o.nh.bem("item","color")]:n.background&&n.color,[o.nh.bem("item","color-only")]:!n.background&&n.color,[o.nh.bem("item","has-icon")]:n.icon,[o.nh.bem("item","closable")]:n.closable},n.className]),role:"alert",style:e.normalizeStyle([{color:typeof n.color=="string"?n.color:void 0,backgroundColor:typeof n.background=="string"?n.background:void 0},n.style||{}]),"aria-atomic":"true","aria-live":n.type&&o.assertiveTypes.includes(n.type)?"assertive":"polite"},[e.createElementVNode("div",{class:e.normalizeClass(o.nh.be("wrapper"))},[n.icon?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(o.nh.be("icon")),style:e.normalizeStyle({color:n.iconColor})},[typeof n.icon=="function"?(e.openBlock(),e.createBlock(t,{key:0,renderer:n.icon,data:n},null,8,["renderer","data"])):n.icon?(e.openBlock(),e.createBlock(p,{key:1,icon:n.icon,style:e.normalizeStyle([{color:n.iconColor},n.icon.style])},null,8,["icon","style"])):e.createCommentVNode("",!0)],6)):e.createCommentVNode("",!0),typeof n.renderer=="function"?(e.openBlock(),e.createBlock(t,{key:1,renderer:n.renderer,data:n},null,8,["renderer","data"])):(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[n.parseHtml?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(o.nh.be("content")),innerHTML:n.content},null,10,h)):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(o.nh.be("content"))},e.toDisplayString(n.content||""),3))],64))],2),n.closable?(e.openBlock(),e.createElementBlock("button",{key:0,class:e.normalizeClass(o.nh.be("close")),onClick:z=>o.remove(n.key)},[e.createVNode(p,{label:"close"},{default:e.withCtx(()=>[e.createVNode(i)]),_:1})],10,g)):e.createCommentVNode("",!0)],14,f)]),_:1},8,["class","transition-name","placement"])}var q=m(C,[["render",B]]);module.exports=q;
