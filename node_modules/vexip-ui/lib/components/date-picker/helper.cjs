"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var p=require("vue"),y=require("@vexip-ui/utils"),i=require("./symbol.cjs");const D=Array.from({length:10},(u,n)=>n);function A(u,n){return u===`Digit${n}`||u===`Numpad${n}`||u===`${n}`}function E(u){const n=u.code||u.key;let e=null,s=!1;switch(n){case"Tab":{s=!0,e=u.shiftKey?"prev":"next";break}case"ArrowRight":{s=!0,e="next";break}case"Backspace":case"Delete":case"ArrowLeft":{s=!0,e="prev";break}case"ArrowUp":{s=!0,e="up";break}case"ArrowDown":{s=!0,e="down";break}case"Space":case" ":case"Enter":case"NumpadEnter":{s=!0,e="ok";break}case"Escape":{s=!0,e="esc";break}}if(s)u.preventDefault(),u.stopPropagation();else{const o=D.findIndex(f=>A(n,f));~o&&(e=o,u.preventDefault(),u.stopPropagation())}return e}function x(u,n=p.ref(u[0])){const e=Array.from(u),s=e.length,o=p.reactive(e.reduce((c,r)=>(c[r]=!1,c),{}));function f(c){var r;n.value=(r=c.find(a=>o[a]))!=null?r:n.value}function b(c,r=!1){const a=r?Array.from(e).reverse():e,t=a.findIndex(l=>l===c);~t?f(a.slice(t,s).concat(a.slice(0,t))):f(a)}function m(c,r=!0){for(let a=0;a<s;++a)if(n.value===e[a]){const t=c==="prev"?Array.from(e).reverse():e,l=(c==="prev"?s-a:a+1)%s,T=r?t.slice(l,s).concat(t.slice(0,l)):l?t.slice(l,s):[];f(T);break}}return{currentColumn:n,enabled:o,resetColumn:b,enterColumn:m}}const v=[0,0,0],d=[23,59,59];function S(u,n){const e=p.computed(()=>u.value?u.value.split(":").map(y.toNumber):v),s=p.computed(()=>n.value?n.value.split(":").map(y.toNumber):d),o=p.computed(()=>{const r=e.value,a=s.value;for(let t=0;t<3;++t){if(r[t]<a[t])return!1;if(r[t]>a[t])return!0}return!1}),f={hour:b,minute:(r,a)=>m(r,a)!==i.DisabledType.FALSE,second:(r,a,t)=>c(r,a,t)!==i.DisabledType.FALSE};function b(r){const a=e.value[0]||v[0],t=s.value[0]||d[0];return o.value?r>t&&r<a:r<a||r>t}function m(r,a){if(b(r))return i.DisabledType.UPSTREAM;if(e.value[0]===s.value[0]&&r===e.value[0]){const t=e.value[1]||v[1],l=s.value[1]||d[1];if(o.value?a>l&&a<t:a<t||a>l)return i.DisabledType.TRUE}if(r===e.value[0]){const t=e.value[1]||v[1];if(a<t)return i.DisabledType.AT_MIN_TRUE}if(r===s.value[0]){const t=s.value[1]||d[1];if(a>t)return i.DisabledType.AT_MAX_TRUE}return i.DisabledType.FALSE}function c(r,a,t){if(m(r,a)!==i.DisabledType.FALSE)return i.DisabledType.UPSTREAM;if(e.value[0]===s.value[0]&&r===e.value[0]&&e.value[1]===s.value[1]&&a===e.value[1]){const l=e.value[2]||v[2],T=s.value[2]||d[2];if(o.value?t>T&&t<l:t<l||t>T)return i.DisabledType.TRUE}if(r===e.value[0]&&a===e.value[1]){const l=e.value[2]||v[2];if(t<l)return i.DisabledType.AT_MIN_TRUE}if(r===s.value[0]&&a===s.value[1]){const l=s.value[2]||d[2];if(t>l)return i.DisabledType.AT_MAX_TRUE}return i.DisabledType.FALSE}return{minUnits:e,maxUnits:s,reversed:o,isTimeDisabled:f}}exports.handleKeyEnter=E;exports.useColumn=x;exports.useTimeBound=S;
