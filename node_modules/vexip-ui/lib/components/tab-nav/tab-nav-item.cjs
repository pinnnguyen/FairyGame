"use strict";var e=require("vue");require("../icon/index.cjs");require("../../common/config/src/index.cjs");var b=require("@vexip-ui/icons"),C=require("@vexip-ui/utils"),h=require("./symbol.cjs"),k=require("../../_virtual/plugin-vue_export-helper.cjs"),g=require("../icon/icon.cjs"),d=require("../../common/config/src/props.cjs"),w=require("../../common/config/src/namespace.cjs");const y=e.defineComponent({name:"TabNavItem",components:{Icon:g,Xmark:b.Xmark},props:{label:{type:[String,Number],default:null},disabled:{type:Boolean,default:!1},icon:{type:Object,default:null},closable:{type:Boolean,default:null},onToggle:d.eventProp()},emits:[],setup(n){const l=e.inject(h.TAB_NAV_STATE,null),c=w.useNameHelper("tab-nav"),a=e.ref(!1),s=e.ref(n.label),u=e.ref(0),i=e.ref(0),t=e.ref(),r=e.computed(()=>{const o=c.be("content");return{[o]:!0,[`${o}--disabled`]:n.disabled,[`${o}--active`]:!n.disabled&&a.value}}),m=e.computed(()=>{var o;return C.isDefined(n.closable)?n.closable:(o=l==null?void 0:l.closable)!=null?o:!1});if(e.watch(()=>n.label,o=>{s.value=o,l==null||l.refreshLabels()}),e.watch(a,o=>{d.emitEvent(n.onToggle,o)}),l){const o=e.reactive({el:t,label:s,index:u,total:i});e.watch(s,()=>{a.value=s.value===l.currentActive}),e.watch(()=>l.currentActive,v=>{a.value=s.value===v},{immediate:!0}),l.increaseItem(o),e.onBeforeUnmount(()=>{l.decreaseItem(o)})}function f(){n.disabled||l==null||l.handleActive(s.value)}function p(){n.disabled||l==null||l.handleClose(s.value)}return{nh:c,index:u,total:i,contentClass:r,isClosable:m,wrapper:t,handleSelect:f,handleClose:p}}}),q=["aria-disabled","aria-setsize","aria-posinset"];function B(n,l,c,a,s,u){const i=e.resolveComponent("Icon"),t=e.resolveComponent("Xmark");return e.openBlock(),e.createElementBlock("li",{ref:"wrapper",class:e.normalizeClass(n.nh.be("item")),role:"none"},[e.createElementVNode("div",{class:e.normalizeClass(n.nh.be("pad"))},null,2),e.createElementVNode("div",{class:e.normalizeClass(n.contentClass),role:"tab",tabindex:"0","aria-disabled":n.disabled,"aria-setsize":n.total||void 0,"aria-posinset":n.index||void 0,onClick:l[1]||(l[1]=(...r)=>n.handleSelect&&n.handleSelect(...r)),onKeydown:l[2]||(l[2]=e.withKeys(e.withModifiers((...r)=>n.handleSelect&&n.handleSelect(...r),["stop"]),["enter"]))},[n.icon?(e.openBlock(),e.createBlock(i,{key:0,class:e.normalizeClass(n.nh.be("icon")),icon:n.icon},null,8,["class","icon"])):e.createCommentVNode("",!0),e.renderSlot(n.$slots,"default",{},()=>[e.createTextVNode(e.toDisplayString(n.label),1)]),n.isClosable?(e.openBlock(),e.createElementBlock("button",{key:1,class:e.normalizeClass(n.nh.be("close")),onClick:l[0]||(l[0]=e.withModifiers((...r)=>n.handleClose&&n.handleClose(...r),["stop"]))},[e.createVNode(i,null,{default:e.withCtx(()=>[e.createVNode(t)]),_:1})],2)):e.createCommentVNode("",!0)],42,q)],2)}var j=k(y,[["render",B]]);module.exports=j;
