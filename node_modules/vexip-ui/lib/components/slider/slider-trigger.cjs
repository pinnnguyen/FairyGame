"use strict";var o=require("vue");require("../tooltip/index.cjs");require("../../common/config/src/index.cjs");var v=require("@vexip-ui/hooks"),g=require("../../_virtual/plugin-vue_export-helper.cjs"),b=require("../tooltip/tooltip.cjs"),c=require("../../common/config/src/namespace.cjs");const y=o.defineComponent({name:"SliderTrigger",components:{Tooltip:b},props:{value:{type:Number,default:0},tipTransfer:{type:[Boolean,String],default:!1},hideTip:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},min:{type:Number,default:0},max:{type:Number,default:100},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},reverse:{type:Boolean,default:!1},sliding:{type:Boolean,default:!1}},emits:["key-minus","key-plus"],setup(e,{emit:a}){const n=o.ref(!1),s=o.ref(null),p=o.ref(),{timer:t}=v.useSetTimeout(),{target:u}=v.useModifier({passive:!1,onKeyDown:(i,r)=>{if(r.up||r.down||r.left||r.right){d(i);const f=i.ctrlKey?"ctrl":i.shiftKey?"shift":i.altKey?"alt":void 0;r.up||r.left?a("key-minus",f):a("key-plus",f)}}});function l(){clearTimeout(t.hover),e.disabled||(t.hover=setTimeout(()=>{n.value=!0},250))}function m(){clearTimeout(t.hover),t.hover=setTimeout(()=>{n.value=!1},250)}function d(i){i.cancelable&&(i.stopPropagation(),i.preventDefault())}function h(){s.value&&s.value.updatePopper()}function T(){var i;(i=p.value)==null||i.focus()}return{nh:c.useNameHelper("slider"),isTipShow:n,wrapper:u,tooltip:s,handler:p,showTooltip:l,hideTooltip:m,disableEvent:d,updateTooltip:h,focus:T}}}),w=["aria-valuenow","aria-valuemin","aria-valuemax","aria-disabled"];function k(e,a,n,s,p,t){const u=o.resolveComponent("Tooltip");return o.openBlock(),o.createElementBlock("div",{ref:"wrapper",class:o.normalizeClass(e.nh.be("trigger")),tabindex:"-1",onTouchstart:a[2]||(a[2]=(...l)=>e.disableEvent&&e.disableEvent(...l))},[o.createVNode(u,{ref:"tooltip",theme:"dark",trigger:"custom",transfer:e.tipTransfer,visible:e.isTipShow||e.sliding,"tip-class":e.nh.be("tip"),disabled:e.hideTip,placement:e.vertical?"right":"top",onTipEnter:e.showTooltip,onTipLeave:e.hideTooltip},{trigger:o.withCtx(()=>[o.createElementVNode("div",{ref:"handler",class:o.normalizeClass({[e.nh.be("handler")]:!0,[e.nh.bem("handler","active")]:e.loading,[e.nh.bem("handler","sliding")]:e.sliding}),role:"slider",tabindex:"0","aria-valuenow":e.value,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-disabled":e.disabled,onMouseenter:a[0]||(a[0]=(...l)=>e.showTooltip&&e.showTooltip(...l)),onMouseleave:a[1]||(a[1]=(...l)=>e.hideTooltip&&e.hideTooltip(...l))},null,42,w)]),default:o.withCtx(()=>[o.renderSlot(e.$slots,"tip",{value:e.value},()=>[o.createTextVNode(o.toDisplayString(e.value),1)])]),_:3},8,["transfer","visible","tip-class","disabled","placement","onTipEnter","onTipLeave"])],34)}var B=g(y,[["render",k]]);module.exports=B;
