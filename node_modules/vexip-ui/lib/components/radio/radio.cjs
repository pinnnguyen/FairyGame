"use strict";var e=require("vue");require("../collapse-transition/index.cjs");require("../icon/index.cjs");require("../../common/config/src/index.cjs");var L=require("@vexip-ui/utils"),q=require("./props.cjs"),V=require("./symbol.cjs"),j=require("../../_virtual/plugin-vue_export-helper.cjs"),z=require("../collapse/collapse-transition.cjs"),I=require("../icon/icon.cjs"),u=require("../../common/config/src/props.cjs"),B=require("../../common/config/src/namespace.cjs");const N=e.defineComponent({name:"Radio",components:{CollapseTransition:z,Icon:I},props:q.radioProps,emits:["update:value"],setup(a,{emit:t}){const o=u.useProps("radio",a,{size:u.createSizeProp(),state:u.createStateProp(),value:{default:null,static:!0},label:{default:null,validator:L.isDefined,static:!0},labelClass:null,disabled:!1,border:!1,tabIndex:0,loading:!1,loadingLock:!1}),n=e.inject(V.GROUP_STATE,null),s=B.useNameHelper("radio"),i=e.ref(o.value),r=e.ref(),c=e.computed(()=>(n==null?void 0:n.size)||o.size),d=e.computed(()=>(n==null?void 0:n.state)||o.state),p=e.computed(()=>(n==null?void 0:n.disabled)||o.disabled),v=e.computed(()=>n==null?void 0:n.button),f=e.computed(()=>(n==null?void 0:n.border)||o.border),m=e.computed(()=>(n==null?void 0:n.loading)||o.loading),h=e.computed(()=>(n==null?void 0:n.loadingIcon)||null),b=e.computed(()=>(n==null?void 0:n.loadingLock)||!1),C=e.computed(()=>(n==null?void 0:n.loadingSpin)||!1),g=e.computed(()=>[s.b(),s.bs("vars"),{[s.bm("inherit")]:o.inherit,[s.bm("checked")]:i.value===o.label,[s.bm("disabled")]:p.value,[s.bm("loading")]:m.value&&b.value,[s.bm(c.value)]:c.value!=="default",[s.bm("border")]:f.value,[s.bm(d.value)]:d.value!=="default"}]);e.watch(()=>o.value,l=>{i.value=l}),e.watch(i,l=>{u.emitEvent(o.onChange,l),t("update:value",l),n&&l===o.label&&n.updateValue(l)}),n&&(e.watch(()=>n.currentValue,l=>{i.value=l},{immediate:!0}),e.onMounted(()=>{n.registerInput(r)}),e.onBeforeUnmount(()=>{n.unregisterInput(r)}));function k(){p.value||m.value&&b.value||(i.value=o.label)}return{props:o,nh:s,currentValue:i,className:g,isDisabled:p,isButton:v,isLoading:m,computedLoadingIcon:h,isLoadingSpin:C,input:r,handleChange:k}}}),E=["checked","disabled","tabindex"];function T(a,t,o,n,s,i){const r=e.resolveComponent("Icon"),c=e.resolveComponent("CollapseTransition");return e.openBlock(),e.createElementBlock("label",{class:e.normalizeClass(a.className)},[e.createElementVNode("span",{class:e.normalizeClass([a.nh.be("signal"),a.isLoading&&a.nh.bem("signal","active")])},null,2),e.createElementVNode("span",{class:e.normalizeClass([a.nh.be("label"),a.props.labelClass])},[a.isButton?(e.openBlock(),e.createBlock(c,{key:0,appear:"",horizontal:"","fade-effect":""},{default:e.withCtx(()=>[a.isLoading?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(a.nh.be("loading"))},[e.createVNode(r,{spin:a.isLoadingSpin,pulse:!a.isLoadingSpin,icon:a.computedLoadingIcon},null,8,["spin","pulse","icon"])],2)):e.createCommentVNode("",!0)]),_:1})):e.createCommentVNode("",!0),e.renderSlot(a.$slots,"default",{},()=>[e.createTextVNode(e.toDisplayString(a.props.label),1)])],2),e.createElementVNode("input",{ref:"input",type:"radio",class:e.normalizeClass(a.nh.be("input")),checked:a.currentValue===a.props.label,disabled:a.isDisabled,tabindex:a.props.tabIndex,onChange:t[0]||(t[0]=(...d)=>a.handleChange&&a.handleChange(...d))},null,42,E)],2)}var y=j(N,[["render",T]]);module.exports=y;
