"use strict";var e=require("vue");require("./index.cjs");require("../tooltip/index.cjs");require("../../common/config/src/index.cjs");var u=require("./props.cjs"),v=require("./symbol.cjs"),m=require("../../_virtual/plugin-vue_export-helper.cjs"),f=require("./avatar.cjs"),d=require("../tooltip/tooltip.cjs"),g=require("../../common/config/src/props.cjs"),k=require("../../common/config/src/namespace.cjs");const h=e.defineComponent({name:"AvatarGroup",components:{Avatar:f,Tooltip:d},props:u.avatarGroupProps,setup(r){const s=g.useProps("avatarGroup",r,{size:"default",options:{default:()=>[],static:!0},circle:!1,max:null,showTip:!1,tipTrigger:"hover",vertical:!1,offset:null,restColor:null,restBackground:null}),a=k.useNameHelper("avatar-group"),c=e.ref([]),n=e.ref([]);e.watchEffect(()=>{const l=s.options.length;s.max>0&&l>s.max?(c.value=s.options.slice(0,s.max-1),n.value=s.options.slice(s.max-1)):(c.value=Array.from(s.options),n.value=[])}),e.provide(v.GROUP_STATE,s);const p=e.computed(()=>({[a.b()]:!0,[a.ns("avatar-vars")]:!0,[a.bm("inherit")]:s.inherit,[a.bm(s.size)]:typeof s.size!="number"&&s.size!=="default",[a.bm("circle")]:s.circle,[a.bm("vertical")]:s.vertical})),o=e.computed(()=>{const l={};return typeof s.offset=="number"&&(l[a.cv("offset")]=`${s.offset}px`),l});return{props:s,nh:a,renderAvatars:c,restAvatars:n,className:p,style:o}}});function b(r,s,a,c,n,p){const o=e.resolveComponent("Avatar"),l=e.resolveComponent("Tooltip");return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(r.className),role:"group",style:e.normalizeStyle(r.style)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.renderAvatars,(t,i)=>(e.openBlock(),e.createElementBlock("div",{key:i,class:e.normalizeClass(r.nh.be("item"))},[e.renderSlot(r.$slots,"default",{option:t,index:i},()=>[e.createVNode(o,{inherit:"",src:t.src,icon:t.icon,alt:t.alt,fit:t.fit,"src-set":t.srcSet,gap:t.gap,"icon-scale":t.iconScale,"fallback-src":t.fallbackSrc},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t.text),1)]),_:2},1032,["src","icon","alt","fit","src-set","gap","icon-scale","fallback-src"])])],2))),128)),r.restAvatars.length?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass([r.nh.be("item"),r.nh.bem("item","rest")])},[r.props.showTip?(e.openBlock(),e.createBlock(l,{key:0,inherit:"",trigger:r.props.tipTrigger,"tip-class":r.nh.be("rest")},{trigger:e.withCtx(()=>[e.renderSlot(r.$slots,"rest",{options:r.restAvatars,count:r.restAvatars.length},()=>[e.createVNode(o,{inherit:"",color:r.props.restColor,background:r.props.restBackground},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(`+${r.restAvatars.length}`),1)]),_:1},8,["color","background"])])]),default:e.withCtx(()=>[e.renderSlot(r.$slots,"tip",{options:r.restAvatars,count:r.restAvatars.length},()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.restAvatars,(t,i)=>(e.openBlock(),e.createBlock(o,{key:i,inherit:"",src:t.src,icon:t.icon,alt:t.alt,fit:t.fit,"src-set":t.srcSet,gap:t.gap,"icon-scale":t.iconScale,"fallback-src":t.fallbackSrc},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(t.text),1)]),_:2},1032,["src","icon","alt","fit","src-set","gap","icon-scale","fallback-src"]))),128))])]),_:3},8,["trigger","tip-class"])):e.renderSlot(r.$slots,"rest",{key:1,options:r.restAvatars,count:r.restAvatars.length},()=>[e.createVNode(o,{inherit:"",color:r.props.restColor,background:r.props.restBackground},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(`+${r.restAvatars.length}`),1)]),_:1},8,["color","background"])])],2)):e.createCommentVNode("",!0)],6)}var A=m(h,[["render",b]]);module.exports=A;
