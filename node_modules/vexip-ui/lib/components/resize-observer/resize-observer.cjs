"use strict";var t=require("vue");require("../../common/config/src/index.cjs");var b=require("@vexip-ui/hooks"),f=require("@vexip-ui/utils"),m=require("./props.cjs"),l=require("../../common/config/src/props.cjs"),x=t.defineComponent({name:"ResizeObserver",props:m.resizeObserverProps,setup(u,{slots:p}){const o=l.useProps("resizeObserver",u,{throttle:{default:!1,validator:e=>typeof e=="boolean"||e>0}}),{observeResize:a,unobserveResize:c}=b.useResize();let s=!1;function i(e){l.emitEvent(o.onResize,e)}const v=o.throttle?f.throttle(i,typeof o.throttle=="boolean"?16:o.throttle):i;return t.onMounted(()=>{var n,r;const e=(r=(n=t.getCurrentInstance())==null?void 0:n.proxy)==null?void 0:r.$el;if(e!=null&&e.nextElementSibling){if(e.nextElementSibling!==e.nextSibling&&e.nodeType===3&&e.nodeValue!=="")return;a(e.nextElementSibling,v),s=!0}}),t.onBeforeUnmount(()=>{var e,n;if(s){const r=(n=(e=t.getCurrentInstance())==null?void 0:e.proxy)==null?void 0:n.$el;r!=null&&r.nextElementSibling&&c(r.nextElementSibling)}}),()=>t.renderSlot(p,"default")}});module.exports=x;
