"use strict";var e=require("vue");require("../../common/config/src/index.cjs");var g=require("./props.cjs"),b=require("./symbol.cjs"),y=require("../../_virtual/plugin-vue_export-helper.cjs"),m=require("../../common/config/src/props.cjs"),C=require("../../common/config/src/namespace.cjs");const z=Object.freeze(["default","success","error","warning","disabled"]),E=e.defineComponent({name:"TimelineItem",props:g.timelineItemProps,emits:[],setup(o){const l=m.useProps("timelineItem",o,{type:{default:"default",validator:r=>z.includes(r)},color:"",label:{default:null,static:!0},dashed:null,lineColor:null,spacing:null}),n=e.inject(b.TIMELINE_STATE,null),t=C.useNameHelper("timeline"),a=e.ref(l.label),i=e.ref(),c=e.computed(()=>({[t.be("item")]:!0,[t.bem("item",l.type)]:l.type!=="default"})),f=e.computed(()=>{const r=l.spacing||l.spacing===0?l.spacing:n==null?void 0:n.spacing,s={[t.cv("item-span")]:typeof r=="number"?`${r}px`:r};return l.color&&(s[t.cv("pointer-color")]=l.color,s[t.cv("pointer-b-color")]=l.color),s}),v=e.computed(()=>{var u,d,p;const r=(d=(u=l.dashed)!=null?u:n==null?void 0:n.dashed)!=null?d:!1,s=(p=l.lineColor)!=null?p:n==null?void 0:n.lineColor;return{borderLeftStyle:r?"dashed":void 0,borderLeftColor:s}});if(n){let r=function(){requestAnimationFrame(()=>{(n==null?void 0:n.horizontal)&&i.value&&(s.height=i.value.scrollHeight)})};const s=e.reactive({label:a,index:0,total:0,height:0});n.increaseItem(s),e.watch(()=>n.bothSides,r),e.watch(()=>n.horizontal,r),e.onMounted(r),e.onUpdated(r),e.onBeforeUnmount(()=>{n.decreaseItem(s)})}function h(){m.emitEvent(l.onSignalClick,a.value),n==null||n.handleSignalClick(a.value)}return{nh:t,className:c,itemStyle:f,lineStyle:v,content:i,handleSignalClick:h}}});function I(o,l,n,t,a,i){return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(o.className),style:e.normalizeStyle(o.itemStyle)},[e.createElementVNode("div",{class:e.normalizeClass(o.nh.be("signal")),onClick:l[0]||(l[0]=(...c)=>o.handleSignalClick&&o.handleSignalClick(...c))},[e.renderSlot(o.$slots,"signal",{},()=>[e.createElementVNode("div",{class:e.normalizeClass(o.nh.be("pointer"))},null,2)])],2),e.createElementVNode("div",{class:e.normalizeClass(o.nh.be("line")),style:e.normalizeStyle(o.lineStyle)},null,6),e.createElementVNode("div",{ref:"content",class:e.normalizeClass(o.nh.be("content"))},[e.renderSlot(o.$slots,"default")],2)],6)}var j=y(E,[["render",I]]);module.exports=j;
