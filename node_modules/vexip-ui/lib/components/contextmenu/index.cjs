"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var u=require("vue"),r=require("./contextmenu.cjs"),t=require("@vexip-ui/utils");class i{constructor(){this._instance=null,this._innerApp=null,this._container=null,this._pending=null,this.name="Contextmenu"}open(n){if(!!t.isClient)return this._pending=this._getInstance().openContextmenu(n),this._pending}destroy(){var n;(n=this._innerApp)==null||n.unmount(),t.destroyObject(this)}isDestroyed(){return!1}install(n){n.config.globalProperties.$contextmenu=this}_getInstance(){var n;if(this._pending){let e=this._innerApp;const s=()=>{e==null||e.unmount(),e=null};this._pending.finally(s),this._instance.handleCancel()}else(n=this._innerApp)==null||n.unmount();return this._container=document.createElement("div"),this._innerApp=u.createApp(r),this._instance=this._innerApp.mount(this._container),this._pending=null,document.body.appendChild(this._container.firstElementChild),this._instance}}const o=new i;exports.Contextmenu=o;exports.ContextmenuManager=i;
