"use strict";var u=require("vue");require("../../common/config/src/index.cjs");var T=require("./props.cjs"),r=require("../../common/config/src/props.cjs"),b=u.defineComponent({name:"CollapseTransition",props:T.collapseTransitionProps,emits:[],setup(h,{slots:E}){const i=r.useProps("collapseTransition",h,{appear:!1,mode:{default:"default",validator:l=>["in-out","out-in","default"].includes(l)},horizontal:!1,duration:{default:250,validator:l=>l>=200},timing:null,fadeEffect:!1});let m=null,f=null;return()=>{const l=i.duration,s=i.timing||"ease-in-out";let a="height",y="paddingTop",p="paddingBottom",d="marginTop",g="marginBottom",c="scrollHeight",v=`
        height ${l}ms ${s},
        padding-top ${l}ms ${s},
        padding-bottom ${l}ms ${s},
        margin-top ${l}ms ${s},
        margin-bottom ${l}ms ${s}
      `;i.horizontal&&(a="width",y="paddingLeft",p="paddingRight",d="marginLeft",g="marginRight",c="scrollWidth",v=`
          width ${l}ms ${s},
          padding-left ${l}ms ${s},
          padding-right ${l}ms ${s},
          margin-left ${l}ms ${s},
          margin-right ${l}ms ${s}
        `),i.fadeEffect&&(v=`
          ${v},
          opacity ${l}ms ease
        `);const n={},e={};return u.h(u.Transition,{appear:i.appear,mode:i.mode,onBeforeEnter(o){if(m)return;m="before";const t=o;n.paddingTop=t.style[y],n.paddingBottom=t.style[p],n.marginTop=t.style[d],n.marginBottom=t.style[g],n.transition=t.style.transition,n.boxSizing=t.style.boxSizing,n.opacity=t.style.opacity,t.style.transition=v,t.style[a]="0",t.style[y]="0",t.style[p]="0",t.style[d]="0",t.style[g]="0",t.style.boxSizing="content-box",i.fadeEffect&&(t.style.opacity="0"),r.emitEvent(i.onBeforeEnter,o)},onEnter(o){if(m==="in")return;m="in";const t=o;n.overflow=t.style.overflow,t[c]!==0?t.style[a]=`${t[c]}px`:t.style[a]="",t.style[y]=n.paddingTop,t.style[p]=n.paddingBottom,t.style[d]=n.marginTop,t.style[g]=n.marginBottom,t.style.overflow="hidden",i.fadeEffect&&(t.style.opacity=n.opacity),r.emitEvent(i.onEnter,o)},onAfterEnter(o){const t=o;t.style.transition=n.transition||"",t.style[a]="",t.style.overflow=n.overflow,t.style.boxSizing=n.boxSizing,m=null,r.emitEvent(i.onAfterEnter,o)},onEnterCancelled(o){const t=o;t.style.transition=n.transition||"",t.style[a]="",t.style.overflow=n.overflow,t.style.boxSizing=n.boxSizing,m=null,r.emitEvent(i.onEnterCancelled,o)},onBeforeLeave(o){if(f)return;f="before";const t=o;e.paddingTop=t.style[y],e.paddingBottom=t.style[p],e.marginTop=t.style[d],e.marginBottom=t.style[g],e.overflow=t.style.overflow,e.boxSizing=t.style.boxSizing,e.opacity=t.style.opacity,t.style[a]=`${t[c]}px`,t.style.overflow="hidden",r.emitEvent(i.onBeforeLeave,o)},onLeave(o){if(f==="in")return;f="in";const t=o;t[c]!==0&&(e.transition=t.style.transition,t.style.transition=v,t.style[a]="0",t.style[y]="0",t.style[p]="0",t.style[d]="0",t.style[g]="0",i.fadeEffect&&(t.style.opacity="0")),r.emitEvent(i.onLeave,o)},onAfterLeave(o){const t=o;t.style[a]="",t.style[y]=e.paddingTop,t.style[p]=e.paddingBottom,t.style[d]=e.marginTop,t.style[g]=e.marginBottom,t.style.overflow=e.overflow,t.style.transition=e.transition||"",t.style.boxSizing=e.boxSizing,t.style.opacity=e.opacity,f=null,r.emitEvent(i.onAfterLeave,o)},onLeaveCancelled(o){const t=o;t.style[a]="",t.style[y]=e.paddingTop,t.style[p]=e.paddingBottom,t.style[d]=e.marginTop,t.style[g]=e.marginBottom,t.style.overflow=e.overflow,t.style.transition=e.transition||"",t.style.boxSizing=e.boxSizing,t.style.opacity=e.opacity,f=null,r.emitEvent(i.onLeaveCancelled,o)}},{default:()=>E.default&&E.default()})}}});module.exports=b;
