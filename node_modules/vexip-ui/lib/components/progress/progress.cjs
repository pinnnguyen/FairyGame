"use strict";var e=require("vue");require("../bubble/index.cjs");require("../../common/config/src/index.cjs");var d=require("@vexip-ui/utils"),f=require("./props.cjs"),y=require("../../_virtual/plugin-vue_export-helper.cjs"),v=require("../bubble/bubble.cjs"),g=require("../../common/config/src/props.cjs"),h=require("../../common/config/src/namespace.cjs");const k=Object.freeze(["outside","inside","bubble","bubble-top","bubble-bottom","none"]),$=e.defineComponent({name:"Progress",components:{Bubble:v},props:f.progressProps,setup(r){const o=g.useProps("progress",r,{percentage:{default:0,validator:t=>t>=0&&t<=100,static:!0},strokeWidth:8,infoType:{default:"outside",validator:t=>k.includes(t)},precision:2,activated:!1,strokeColor:{default:null,validator:t=>!(Array.isArray(t)&&(!t[0]||!t[1]))}}),n=h.useNameHelper("progress"),i=e.computed(()=>[n.b(),n.bs("vars"),n.bm(`info-${o.infoType}`),{[n.bm("inherit")]:o.inherit,[n.bm("activated")]:o.activated}]),p=e.computed(()=>({height:`${o.strokeWidth}px`,borderRadius:`${o.strokeWidth}px`})),u=e.computed(()=>{const t={borderRadius:`${o.strokeWidth}px`,transform:`translateX(${(o.percentage-100)/2}%) scaleX(${o.percentage/100})`};let s=o.strokeColor;return typeof s=="function"&&(s=s(o.percentage)),typeof s=="string"?t.backgroundColor=s:Array.isArray(s)&&(t.backgroundImage=`linear-gradient(to right, ${s[0]} 0%, ${s[1]} 100%)`),t}),l=e.computed(()=>({transform:`translateX(${o.percentage-100}%)`})),a=e.computed(()=>o.infoType.includes("bubble")),c=e.computed(()=>a.value&&o.infoType.split("-").pop()==="bottom"?"bottom":"top"),b=e.computed(()=>a.value?{[c.value==="top"?"bottom":"top"]:`${o.strokeWidth}px`}:{}),m=e.computed(()=>d.toFixed(o.percentage,o.precision));return{props:o,nh:n,className:i,trackStyle:p,fillerStyle:u,infoStyle:l,useBubble:a,bubbleType:c,bubbleStyle:b,percentValue:m}}}),S=["aria-valuenow"];function C(r,o,n,i,p,u){const l=e.resolveComponent("Bubble");return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(r.className),role:"progressbar","aria-valuenow":r.percentValue,"aria-valuemin":"0","aria-valuemax":"100"},[e.createElementVNode("div",{class:e.normalizeClass(r.nh.be("track")),style:e.normalizeStyle(r.trackStyle)},[e.createElementVNode("div",{class:e.normalizeClass(r.nh.be("filler")),style:e.normalizeStyle(r.fillerStyle)},null,6),r.props.infoType==="inside"?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(r.nh.be("info")),style:e.normalizeStyle(r.infoStyle)},[e.renderSlot(r.$slots,"default",{},()=>[e.createElementVNode("span",{class:e.normalizeClass(r.nh.be("percentage"))},e.toDisplayString(`${r.percentValue}%`),3)])],6)):r.useBubble?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(r.nh.be("reference")),style:e.normalizeStyle(r.infoStyle)},[e.createVNode(l,{inherit:"",class:e.normalizeClass(r.nh.be("bubble")),style:e.normalizeStyle(r.bubbleStyle),placement:r.bubbleType,"content-class":r.nh.be("info")},{default:e.withCtx(()=>[e.renderSlot(r.$slots,"default",{},()=>[e.createElementVNode("span",{class:e.normalizeClass(r.nh.be("percentage"))},e.toDisplayString(`${r.percentValue}%`),3)])]),_:3},8,["class","style","placement","content-class"])],6)):e.createCommentVNode("",!0)],6),r.props.infoType==="outside"?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(r.nh.be("info"))},[e.renderSlot(r.$slots,"default",{},()=>[e.createElementVNode("span",{class:e.normalizeClass(r.nh.be("percentage"))},e.toDisplayString(`${r.percentValue}%`),3)])],2)):e.createCommentVNode("",!0)],10,S)}var z=y($,[["render",C]]);module.exports=z;
