"use strict";var e=require("vue"),b=require("./calendar-panel.cjs");require("../column/index.cjs");require("../number-input/index.cjs");require("../row/index.cjs");require("../../common/config/src/index.cjs");var y=require("./props.cjs"),k=require("../../_virtual/plugin-vue_export-helper.cjs"),N=require("../row/column.cjs"),g=require("../number-input/number-input.cjs"),$=require("../row/row.cjs"),w=require("../../common/config/src/props.cjs"),V=require("../../common/config/src/namespace.cjs"),q=require("../../common/config/src/locale/index.cjs");const j=e.defineComponent({name:"Calendar",components:{CalendarPanel:b,Column:N,NumberInput:g,Row:$},props:y.calendarProps,emits:["update:value"],setup(a,{emit:o}){const l=w.useProps("calendar",a,{value:{default:null,static:!0},year:()=>new Date().getFullYear(),month:{default:()=>new Date().getMonth()+1,validator:n=>n>0&&n<=12},weekDays:{default:null,validator:n=>!n||n.length===0||n.length===7},weekStart:{default:0,validator:n=>n>=0&&n<7},today:{default:()=>new Date,validator:n=>!Number.isNaN(+new Date(n))},disabledDate:{default:()=>!1,isFunc:!0}}),c=V.useNameHelper("calendar"),d=q.useLocale("calendar"),u=e.ref(l.value),s=e.ref(l.year),i=e.ref(l.month);function m(n){return`${n}${d.value.year}`}function p(n){return`${n}${d.value.month}`}function r(n){return typeof l.disabledDate!="function"?!0:l.disabledDate(n)}function t(n){r(n)||(u.value=n),w.emitEvent(l.onSelect,n),o("update:value",n)}return{props:l,nh:c,calendarValue:u,calendarYear:s,calendarMonth:i,formatYearInput:m,formatMonthInput:p,handleClick:t}}}),D=["onClick","onKeydown"];function z(a,o,l,c,d,u){const s=e.resolveComponent("Column"),i=e.resolveComponent("NumberInput"),m=e.resolveComponent("Row"),p=e.resolveComponent("CalendarPanel");return e.openBlock(),e.createBlock(p,{value:a.calendarValue,"onUpdate:value":o[2]||(o[2]=r=>a.calendarValue=r),inherit:a.props.inherit,class:e.normalizeClass([a.nh.b()]),year:a.calendarYear,month:a.calendarMonth,"week-start":a.props.weekStart,today:a.props.today,"disabled-date":a.props.disabledDate},{header:e.withCtx(()=>[e.renderSlot(a.$slots,"header",{},()=>[e.createVNode(m,{inherit:"",class:e.normalizeClass(a.nh.be("header")),align:"middle"},{default:e.withCtx(()=>[e.createVNode(s,{flex:"auto"},{default:e.withCtx(()=>[e.renderSlot(a.$slots,"title")]),_:3}),e.createVNode(s,{class:e.normalizeClass(a.nh.be("actions")),flex:"0"},{default:e.withCtx(()=>[e.createVNode(i,{value:a.calendarYear,"onUpdate:value":o[0]||(o[0]=r=>a.calendarYear=r),inherit:"",class:e.normalizeClass(a.nh.be("year-input")),range:[1970,2300],formatter:a.formatYearInput},null,8,["value","class","formatter"]),e.createVNode(i,{value:a.calendarMonth,"onUpdate:value":o[1]||(o[1]=r=>a.calendarMonth=r),inherit:"",class:e.normalizeClass(a.nh.be("month-input")),range:[1,12],formatter:a.formatMonthInput},null,8,["value","class","formatter"])]),_:1},8,["class"])]),_:3},8,["class"])])]),week:e.withCtx(({label:r,index:t,week:n})=>[e.createElementVNode("div",{class:e.normalizeClass(a.nh.be("week"))},[e.renderSlot(a.$slots,"week",{label:r,index:t,week:n},()=>[e.createElementVNode("div",{class:e.normalizeClass(a.nh.be("week-value"))},e.toDisplayString(r),3)])],2)]),item:e.withCtx(({selected:r,date:t,isPrev:n,isNext:h,isToday:v,disabled:f})=>[e.createElementVNode("div",{class:e.normalizeClass({[a.nh.be("date")]:!0,[a.nh.bem("date","selected")]:r,[a.nh.bem("date","prev")]:n,[a.nh.bem("date","next")]:h,[a.nh.bem("date","today")]:v,[a.nh.bem("date","disabled")]:f}),tabindex:"0",onClick:C=>a.handleClick(t),onKeydown:[e.withKeys(e.withModifiers(C=>a.handleClick(t),["prevent"]),["enter"]),e.withKeys(e.withModifiers(C=>a.handleClick(t),["prevent"]),["space"])]},[e.createElementVNode("div",{class:e.normalizeClass(a.nh.be("date-header"))},[e.createElementVNode("div",{class:e.normalizeClass(a.nh.be("date-value"))},e.toDisplayString(t.getDate()),3)],2),e.createElementVNode("div",{class:e.normalizeClass(a.nh.be("date-content"))},[e.renderSlot(a.$slots,"content",{selected:r,date:t,isPrev:n,isNext:h,isToday:v,disabled:f})],2)],42,D)]),_:3},8,["value","inherit","class","year","month","week-start","today","disabled-date"])}var M=k(j,[["render",z]]);module.exports=M;
